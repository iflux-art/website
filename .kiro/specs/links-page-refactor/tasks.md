# 实现计划

- [x] 1. 创建标签锚点生成 Hook
  - 实现 `useTagAnchors` hook，从链接数据中提取唯一标签并生成锚点数据
  - 添加标签去重、排序和 ID 生成逻辑
  - 创建单元测试验证标签锚点生成的正确性
  - _需求: 2.1, 2.2_

- [ ] 2. 创建链接侧边栏组件
  - 实现 `LinksSidebar` 组件，复用文档侧边栏的样式和交互模式
  - 添加分类列表渲染、选中状态管理和点击事件处理
  - 实现响应式设计，在小屏幕上隐藏侧边栏
  - _需求: 1.1, 1.2, 1.3, 4.3_

- [x] 3. 创建链接内容组件
  - 实现 `LinksContent` 组件，按标签对链接进行分组显示
  - 为每个标签分组生成 h2 标题和锚点 ID
  - 使用现有 LinkCard 组件展示链接，保持网格布局
  - _需求: 3.1, 3.2, 3.3, 3.4_

- [x] 4. 重构主页面组件
  - 修改 `src/app/links/page.tsx`，采用三栏布局结构
  - 使用 AppGrid 组件实现 5 列网格布局
  - 集成 LinksSidebar、LinksContent 和 TableOfContents 组件
  - _需求: 4.1, 4.2, 4.4, 4.5_

- [x] 5. 实现数据过滤和状态管理
  - 修改数据处理逻辑，过滤掉友链和个人主页分类
  - 实现分类选择与内容筛选的联动功能
  - 添加性能优化，使用 useMemo 缓存计算结果
  - _需求: 1.4, 5.1, 5.2, 5.3, 5.4_

- [ ] 6. 集成右侧目录导航
  - 将生成的标签锚点数据传递给 TableOfContents 组件
  - 实现锚点跳转功能和滚动高亮效果
  - 确保目录导航与内容区域的同步更新
  - _需求: 2.2, 2.3, 2.4_

- [ ] 7. 添加错误处理和空状态
  - 实现数据加载失败的错误提示和重试机制
  - 添加数据为空时的友好提示信息
  - 确保图标加载失败时的优雅降级显示
  - _需求: 所有需求的错误处理_

- [ ] 8. 优化性能和用户体验
  - 使用 React.memo 和 useCallback 优化组件重渲染
  - 实现图片懒加载和加载失败处理
  - 添加加载状态指示器和骨架屏
  - _需求: 所有需求的性能优化_

- [ ] 9. 添加可访问性支持
  - 为分类按钮和锚点链接添加适当的 aria-label
  - 实现键盘导航支持（Tab、Enter、Space 键）
  - 确保颜色对比度符合 WCAG 标准
  - _需求: 所有需求的可访问性_

- [ ] 10. 创建集成测试
  - 编写页面整体布局渲染测试
  - 测试分类筛选与内容联动功能
  - 验证锚点导航和响应式布局的正确性
  - _需求: 所有需求的集成测试_
