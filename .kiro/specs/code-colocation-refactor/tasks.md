# 实施计划

- [x] 1. 迁移类型定义到组件内部
  - 将只被单个组件使用的类型定义迁移到对应组件文件内部
  - 更新相关的导入语句，确保类型引用正确
  - 验证 TypeScript 编译无错误
  - _需求: 1.1, 1.2, 1.3_

- [x] 1.1 迁移面包屑相关类型定义
  - 将 `BreadcrumbItem` 类型从 `src/types/base-types.ts` 迁移到 `src/components/content/breadcrumb.tsx` 内部
  - 更新 `src/lib/breadcrumb.ts` 中的导入路径
  - 验证面包屑组件功能正常
  - _需求: 1.1, 1.2, 1.3_

- [x] 1.2 迁移内容显示相关类型定义
  - 将 `ContentType` 类型从 `src/types/base-types.ts` 迁移到 `src/components/content/content-display.tsx` 内部
  - 验证内容显示组件功能正常
  - _需求: 1.1, 1.2, 1.3_

- [x] 1.3 迁移滚动处理相关类型定义
  - 将 `ThrottledScrollHandler` 类型从 `src/types/base-types.ts` 迁移到 `src/hooks/ui/use-navbar-scroll.ts` 内部
  - 验证导航栏滚动功能正常
  - _需求: 1.1, 1.2, 1.3_

- [x] 2. 迁移工具函数到相关组件
  - 将只被特定组件使用的工具函数迁移到组件内部
  - 更新所有相关的导入语句
  - 保持函数功能完整性
  - _需求: 2.1, 2.2, 2.3_

- [x] 2.1 迁移滚动工具函数
  - 将 `scrollToElement` 函数从 `src/utils/dom.ts` 迁移到 `src/components/content/table-of-contents.tsx` 内部
  - 更新目录组件中的函数调用
  - 验证目录滚动功能正常
  - _需求: 2.1, 2.2, 2.3_

- [x] 2.2 迁移字数统计工具函数
  - 将 `countWords` 函数从 `src/utils/text.ts` 迁移到 `src/app/docs/[...slug]/page.tsx` 内部
  - 更新文档页面中的函数调用
  - 验证字数统计功能正常
  - _需求: 2.1, 2.2, 2.3_

- [x] 2.3 迁移日期格式化工具函数
  - 将 `formatDate` 函数从 `src/utils/date.ts` 迁移到 `src/app/blog/page.tsx` 内部
  - 更新博客页面中的函数调用
  - 验证日期显示功能正常
  - _需求: 2.1, 2.2, 2.3_

- [x] 3. 迁移配置常量到相关组件
  - 将组件特定的配置迁移到组件文件内部
  - 移除全局配置文件中的相应配置项
  - 确保组件功能不受影响
  - _需求: 3.1, 3.2, 3.3_

- [x] 3.1 迁移搜索相关配置
  - 将 `TYPE_LABELS` 常量从 `src/config/commands.ts` 迁移到 `src/components/search/search-results.tsx` 内部
  - 更新搜索结果组件中的常量引用
  - 验证搜索结果显示功能正常
  - _需求: 3.1, 3.2, 3.3_

- [x] 3.2 迁移命令配置到搜索组件
  - 将 `COMMANDS` 数组从 `src/config/commands.ts` 迁移到搜索相关组件内部
  - 更新相关组件中的命令引用
  - 验证命令功能正常
  - _需求: 3.1, 3.2, 3.3_

- [x] 3.3 迁移搜索历史配置
  - 将 `SEARCH_HISTORY_KEY` 常量从 `src/config/commands.ts` 迁移到搜索相关组件内部
  - 更新搜索历史功能中的常量引用
  - 验证搜索历史功能正常
  - _需求: 3.1, 3.2, 3.3_

- [x] 4. 清理全局文件中的已迁移代码
  - 移除已迁移到组件内部的类型定义、工具函数和配置
  - 更新全局导出文件
  - 确保没有未使用的导出
  - _需求: 6.1, 6.2, 6.3_

- [x] 4.1 清理全局类型文件
  - 从 `src/types/base-types.ts` 中移除已迁移的类型定义
  - 更新类型文件的导出语句
  - 验证其他组件的类型导入仍然正常
  - _需求: 6.1, 6.2, 6.3_

- [x] 4.2 清理全局工具文件
  - 从 `src/utils/dom.ts`、`src/utils/text.ts`、`src/utils/date.ts` 中移除已迁移的函数
  - 更新 `src/utils/index.ts` 中的导出语句
  - 验证其他组件的工具函数导入仍然正常
  - _需求: 6.1, 6.2, 6.3_

- [x] 4.3 清理全局配置文件
  - 从 `src/config/commands.ts` 中移除已迁移的配置常量
  - 如果文件变为空文件，考虑删除整个文件
  - 验证其他组件的配置导入仍然正常
  - _需求: 6.1, 6.2, 6.3_

- [x] 5. 验证和测试重构结果
  - 运行完整的测试套件验证功能完整性
  - 检查 TypeScript 编译无错误
  - 验证所有页面和组件功能正常
  - _需求: 7.1, 7.2, 7.3_

- [x] 5.1 编译和类型检查
  - 运行 TypeScript 编译器检查所有类型定义正确
  - 修复任何编译错误或类型错误
  - 确保所有导入路径正确解析
  - _需求: 7.1, 7.2, 7.3_

- [x] 5.2 功能验证测试
  - 测试面包屑导航功能
  - 测试内容显示功能
  - 测试目录滚动功能
  - 测试搜索功能
  - 测试博客和文档页面功能
  - _需求: 7.1, 7.2, 7.3_

- [x] 5.3 性能和构建验证
  - 验证构建过程无错误
  - 检查 bundle size 是否有改善
  - 确保 Tree Shaking 正常工作
  - _需求: 7.1, 7.2, 7.3_
