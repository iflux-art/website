---
title: 博客API接口
description: 博客系统API接口详细说明
date: 2025-08-29
category: API
tags:
  - API
  - 博客
  - 接口文档
---

# 博客API接口

博客API接口提供对博客文章、标签、分类等数据的访问能力。

## 基础信息

### 基础URL

```
/api/blog
```

### 认证要求

大部分接口为公开访问，无需认证。管理接口需要用户认证。

## 接口列表

### 1. 获取文章列表

```
GET /api/blog/posts
```

#### 请求参数

| 参数名 | 类型 | 必需 | 描述 |
|--------|------|------|------|
| page | integer | 否 | 页码，默认为1 |
| limit | integer | 否 | 每页数量，默认为10，最大100 |
| category | string | 否 | 分类筛选 |
| tag | string | 否 | 标签筛选 |
| search | string | 否 | 搜索关键词 |

#### 响应示例

```json
{
  "success": true,
  "data": {
    "posts": [
      {
        "slug": "getting-started-with-nextjs",
        "title": "Next.js入门指南",
        "description": "从零开始学习Next.js框架",
        "date": "2025-08-29",
        "tags": ["Next.js", "React", "教程"],
        "category": "frontend",
        "readingTime": 5,
        "featured": true
      }
    ],
    "pagination": {
      "page": 1,
      "limit": 10,
      "total": 1,
      "pages": 1
    }
  },
  "timestamp": "2025-08-29T12:00:00Z"
}
```

### 2. 获取文章详情

```
GET /api/blog/posts/{slug}
```

#### 请求参数

| 参数名 | 类型 | 必需 | 描述 |
|--------|------|------|------|
| slug | string | 是 | 文章唯一标识符 |

#### 响应示例

```json
{
  "success": true,
  "data": {
    "slug": "getting-started-with-nextjs",
    "title": "Next.js入门指南",
    "description": "从零开始学习Next.js框架",
    "date": "2025-08-29",
    "tags": ["Next.js", "React", "教程"],
    "category": "frontend",
    "content": "# Next.js入门指南\n\nNext.js是一个React框架...",
    "tableOfContents": [
      {
        "id": "introduction",
        "text": "介绍",
        "level": 1
      }
    ],
    "readingTime": 5,
    "featured": true
  },
  "timestamp": "2025-08-29T12:00:00Z"
}
```

### 3. 获取所有标签

```
GET /api/blog/tags
```

#### 响应示例

```json
{
  "success": true,
  "data": [
    {
      "name": "Next.js",
      "count": 5
    },
    {
      "name": "React",
      "count": 8
    }
  ],
  "timestamp": "2025-08-29T12:00:00Z"
}
```

### 4. 获取时间线数据

```
GET /api/blog/timeline
```

#### 响应示例

```json
{
  "success": true,
  "data": [
    {
      "year": 2025,
      "months": [
        {
          "month": 8,
          "posts": [
            {
              "slug": "getting-started-with-nextjs",
              "title": "Next.js入门指南",
              "date": "2025-08-29"
            }
          ]
        }
      ]
    }
  ],
  "timestamp": "2025-08-29T12:00:00Z"
}
```

## 数据结构

### 文章基本信息

```typescript
interface BlogPost {
  slug: string;
  title: string;
  description: string;
  date: string; // ISO 8601格式
  tags: string[];
  category?: string;
  readingTime?: number; // 阅读时间（分钟）
  featured?: boolean; // 是否推荐
}
```

### 文章详细信息

```typescript
interface BlogPostDetail extends BlogPost {
  content: string; // Markdown格式内容
  tableOfContents: TableOfContentsItem[];
}

interface TableOfContentsItem {
  id: string;
  text: string;
  level: number; // 1-6级标题
}
```

### 标签信息

```typescript
interface Tag {
  name: string;
  count: number; // 使用次数
}
```

### 时间线信息

```typescript
interface Timeline {
  year: number;
  months: TimelineMonth[];
}

interface TimelineMonth {
  month: number; // 1-12
  posts: TimelinePost[];
}

interface TimelinePost {
  slug: string;
  title: string;
  date: string;
}
```

## 错误响应

### 404 - 文章未找到

```json
{
  "success": false,
  "error": {
    "code": "POST_NOT_FOUND",
    "message": "文章不存在"
  },
  "timestamp": "2025-08-29T12:00:00Z"
}
```

### 400 - 参数错误

```json
{
  "success": false,
  "error": {
    "code": "INVALID_PARAMETERS",
    "message": "参数验证失败",
    "details": {
      "page": "页码必须是正整数"
    }
  },
  "timestamp": "2025-08-29T12:00:00Z"
}
```

## 使用示例

### JavaScript (fetch)

```javascript
// 获取文章列表
async function getBlogPosts() {
  try {
    const response = await fetch('/api/blog/posts');
    const result = await response.json();
    
    if (result.success) {
      console.log('文章列表:', result.data.posts);
    } else {
      console.error('获取失败:', result.error.message);
    }
  } catch (error) {
    console.error('网络错误:', error);
  }
}

// 获取文章详情
async function getBlogPost(slug) {
  try {
    const response = await fetch(`/api/blog/posts/${slug}`);
    const result = await response.json();
    
    if (result.success) {
      console.log('文章详情:', result.data);
    } else {
      console.error('获取失败:', result.error.message);
    }
  } catch (error) {
    console.error('网络错误:', error);
  }
}
```

### Python (requests)

```python
import requests

# 获取文章列表
def get_blog_posts():
    try:
        response = requests.get('https://your-domain.com/api/blog/posts')
        result = response.json()
        
        if result['success']:
            print('文章列表:', result['data']['posts'])
        else:
            print('获取失败:', result['error']['message'])
    except Exception as error:
        print('网络错误:', error)

# 获取文章详情
def get_blog_post(slug):
    try:
        response = requests.get(f'https://your-domain.com/api/blog/posts/{slug}')
        result = response.json()
        
        if result['success']:
            print('文章详情:', result['data'])
        else:
            print('获取失败:', result['error']['message'])
    except Exception as error:
        print('网络错误:', error)
```

## 速率限制

- 每个IP每分钟最多100次请求
- 认证用户每分钟最多1000次请求

超过限制时会返回429状态码。

## 更新日志

### v1.0.0 (2025-08-29)

- 初始化博客API接口
- 实现文章列表、详情、标签、时间线接口

## 注意事项

1. 所有时间字段使用ISO 8601格式
2. 文章内容为Markdown格式
3. 接口返回的数据可能包含HTML标签
4. 建议对返回的数据进行适当的转义处理

通过这些API接口，开发者可以轻松地在自己的应用中集成博客功能，获取和展示博客文章数据。