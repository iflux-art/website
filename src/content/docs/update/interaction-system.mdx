---
title: 交互效果系统
description: 了解如何使用统一的交互效果系统，确保按钮、链接和卡片的悬停效果一致
---

# 交互效果系统

本文档介绍了项目中的交互效果系统，包括按钮、链接和卡片的悬停效果。

## 交互效果系统概述

我们的项目使用了统一的交互效果系统，确保所有按钮、链接和卡片的悬停效果一致，符合 shadcn/ui 的 New York 风格和 neutral 基础色。这种方式有以下优势：

1. **一致性**：确保整个应用的交互效果一致
2. **可维护性**：集中管理交互效果，便于后期调整和维护
3. **可复用性**：提供可复用的交互效果，减少重复代码
4. **可扩展性**：易于添加新的交互效果

## 交互效果定义

交互效果系统定义在 `src/lib/interactions.ts` 文件中，包括以下几个部分：

### 1. 持续时间和缓动函数

```tsx
/**
 * 交互效果持续时间
 */
export const durations = {
  fast: 'duration-200',
  normal: 'duration-300',
  slow: 'duration-500',
};

/**
 * 交互效果缓动函数
 */
export const easings = {
  default: 'ease-[cubic-bezier(0.4,0,0.2,1)]',
  inOut: 'ease-in-out',
  nonLinear: 'ease-[cubic-bezier(0.19,1,0.22,1)]',
};
```

### 2. 按钮交互效果

```tsx
/**
 * 按钮交互效果
 */
export const buttonInteractions = {
  // 基础交互效果
  base: 'transition-all duration-300',
  
  // 悬停效果
  hover: {
    // 主要按钮悬停效果
    primary: 'hover:bg-primary/90 hover:shadow-md',
    // 次要按钮悬停效果
    secondary: 'hover:bg-secondary/80 hover:shadow-md',
    // 轮廓按钮悬停效果
    outline: 'hover:bg-accent hover:text-accent-foreground hover:shadow-md',
    // 幽灵按钮悬停效果
    ghost: 'hover:bg-accent hover:text-accent-foreground',
    // 链接按钮悬停效果
    link: 'hover:underline',
    // 破坏性按钮悬停效果
    destructive: 'hover:bg-destructive/90 hover:shadow-md',
    // 成功按钮悬停效果
    success: 'hover:bg-success/90 hover:shadow-md',
  },
  
  // 激活效果
  active: {
    // 缩放效果
    scale: 'active:scale-[0.98]',
  },
};
```

### 3. 卡片交互效果

```tsx
/**
 * 卡片交互效果
 */
export const cardInteractions = {
  // 基础交互效果
  base: 'transition-all duration-200',
  
  // 悬停效果
  hover: {
    // 默认悬停效果
    default: 'hover:shadow-lg',
    // 边框高亮效果
    border: 'hover:border-primary/20',
    // 背景高亮效果
    background: 'hover:bg-accent/50',
    // 组合效果
    combined: 'hover:shadow-lg hover:border-primary/20',
  },
};
```

### 4. 链接交互效果

```tsx
/**
 * 链接交互效果
 */
export const linkInteractions = {
  // 基础交互效果
  base: 'transition-colors duration-300',
  
  // 悬停效果
  hover: {
    // 颜色变化效果
    color: 'hover:text-primary',
    // 下划线效果
    underline: 'hover:underline',
    // 背景高亮效果
    background: 'hover:bg-accent/50',
  },
  
  // 下划线动画效果 - 从中心向两侧扩散
  underlineAnimation: {
    container: 'relative group',
    line: 'absolute bottom-0 left-[50%] right-[50%] h-[1.5px] bg-primary opacity-80 transition-all duration-500 ease-[cubic-bezier(0.19,1,0.22,1)] group-hover:left-0 group-hover:right-0',
  },
};
```

## 使用交互效果

### 1. 在组件中使用

```tsx
import { buttonInteractions } from '@/lib/interactions';

function MyButton() {
  return (
    <button
      className={`bg-primary text-primary-foreground ${buttonInteractions.base} ${buttonInteractions.hover.primary} ${buttonInteractions.active.scale}`}
    >
      点击我
    </button>
  );
}
```

### 2. 在 Tailwind 类名中使用

```tsx
<div className="transition-all duration-300 hover:shadow-lg hover:border-primary/20">
  悬停效果
</div>
```

### 3. 使用工具函数

```tsx
import { getInteractionClasses } from '@/lib/interactions';

function MyComponent() {
  const interactionClasses = getInteractionClasses(
    'transition-all duration-300',
    'hover:bg-primary/10',
    'active:scale-[0.98]',
    'focus:ring-2'
  );
  
  return (
    <div className={interactionClasses}>
      交互效果
    </div>
  );
}
```

## 预定义组件

我们提供了一些预定义的组件，它们已经使用了统一的交互效果：

### 1. 按钮组件

```tsx
import { Button } from '@/components/ui/button';

function MyComponent() {
  return (
    <div>
      <Button variant="default">默认按钮</Button>
      <Button variant="destructive">危险按钮</Button>
      <Button variant="outline">轮廓按钮</Button>
      <Button variant="secondary">次要按钮</Button>
      <Button variant="ghost">幽灵按钮</Button>
      <Button variant="link">链接按钮</Button>
      <Button variant="success">成功按钮</Button>
    </div>
  );
}
```

### 2. 卡片组件

```tsx
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';

function MyComponent() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>卡片标题</CardTitle>
      </CardHeader>
      <CardContent>
        卡片内容
      </CardContent>
    </Card>
  );
}
```

### 3. 链接组件

```tsx
import { MarkdownLink } from '@/components/ui/markdown/link';

function MyComponent() {
  return (
    <div>
      <MarkdownLink href="/home">首页</MarkdownLink>
      <MarkdownLink href="https://example.com" isExternal>外部链接</MarkdownLink>
      <MarkdownLink href="/about" noUnderline>无下划线链接</MarkdownLink>
    </div>
  );
}
```

### 4. 导航项组件

```tsx
import { NavItem, NavItemList } from '@/components/ui/nav-item';

function MyComponent() {
  return (
    <div>
      <NavItem href="/home" label="首页" isActive={true} />
      
      <NavItemList
        items={[
          { href: '/home', label: '首页' },
          { href: '/about', label: '关于' },
          { href: '/contact', label: '联系' },
        ]}
        activePath="/home"
      />
    </div>
  );
}
```

## 最佳实践

1. **使用预定义组件**：尽可能使用预定义的组件，它们已经使用了统一的交互效果
2. **使用交互效果变量**：如果需要自定义组件，使用交互效果变量而不是硬编码交互效果
3. **保持一致性**：确保所有组件的交互效果一致
4. **避免过度动画**：避免使用过多的动画效果，以免影响用户体验
5. **考虑可访问性**：确保交互效果不会影响可访问性，例如避免使用过快的动画效果

## 示例

### 1. 带有统一交互效果的卡片列表

```tsx
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { cardInteractions } from '@/lib/interactions';
import { cn } from '@/lib/utils';

function CardList({ items }) {
  return (
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {items.map((item) => (
        <Card
          key={item.id}
          className={cn(
            cardInteractions.base,
            cardInteractions.hover.combined
          )}
        >
          <CardHeader>
            <CardTitle>{item.title}</CardTitle>
          </CardHeader>
          <CardContent>
            {item.content}
          </CardContent>
        </Card>
      ))}
    </div>
  );
}
```

### 2. 带有统一交互效果的导航菜单

```tsx
import { NavItemList } from '@/components/ui/nav-item';
import { usePathname } from 'next/navigation';

function Navigation() {
  const pathname = usePathname();
  
  const navItems = [
    { href: '/', label: '首页' },
    { href: '/blog', label: '博客' },
    { href: '/docs', label: '文档' },
    { href: '/about', label: '关于' },
  ];
  
  return (
    <nav className="p-4">
      <NavItemList
        items={navItems}
        activePath={pathname}
        horizontal={true}
        underline={true}
      />
    </nav>
  );
}
```

## 相关资源

- [Tailwind CSS 文档](https://tailwindcss.com/docs)
- [Framer Motion 文档](https://www.framer.com/motion/)
- [交互效果系统源码](https://github.com/your-repo/src/lib/interactions.ts)
