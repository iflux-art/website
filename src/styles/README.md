# 样式管理策略

## 样式管理原则

为了避免样式冲突并遵循最佳实践，我们采用以下原则：

### 1. 单一职责原则

每个样式定义应该只在一个地方管理，避免在多个文件中定义相同元素的样式。

### 2. 样式定义位置

- **全局基础样式**: 在 `globals.css` 中定义
- **主题配置**: 在 `tailwind.config.mjs` 中定义
- **组件样式**: 在组件文件中使用 Tailwind 类名定义
- **特定功能样式**: 在专门的 CSS 模块或组件中定义

### 3. 样式优先级

- 使用 Tailwind 的 `@layer` 指令管理样式优先级
- 避免使用 `!important`
- 使用更具体的选择器而不是增加选择器权重

## 具体元素样式管理

### 代码块样式

- **基础样式**: 在 `tailwind.config.mjs` 的 `typography` 插件配置中定义
- **组件样式**: 在 `MacStyleCodeBlock` 组件中使用 Tailwind 类名定义
- **特殊代码块**: 在 `SpecialCodeBlock` 组件中定义

### 行内代码样式

- 在 `InlineCode` 组件中定义，使用 Tailwind 类名

### Markdown 内容样式

- 基础样式通过 `typography` 插件配置
- 特定元素样式在对应的组件中定义

## 样式冲突解决方案

当发现样式冲突时，按照以下步骤解决：

1. 确定样式的正确定义位置
2. 移除其他位置的重复定义
3. 使用更具体的选择器或 Tailwind 的 `@layer` 指令管理优先级
4. 如果必要，使用 CSS 变量统一样式值

## 技术栈最佳实践

### Next.js + React

- 使用组件级样式，通过 Tailwind 类名定义
- 对于复杂组件，考虑使用 CSS 模块
- 避免内联样式，除非是动态计算的值

### Tailwind CSS

- 尽可能使用 Tailwind 类名
- 通过 `tailwind.config.mjs` 扩展主题
- 使用 `@apply` 抽取重复的类名组合
- 利用 `@theme` 指令处理主题切换

### MDX

- 使用 `mdx-components.tsx` 定义 MDX 元素的样式
- 保持 MDX 组件的样式独立性
- 避免在 MDX 内容中使用内联样式

## 样式审查清单

添加新样式前，检查以下几点：

- [ ] 是否已有类似样式定义？
- [ ] 这个样式的正确定义位置是哪里？
- [ ] 是否可以通过 Tailwind 类名实现？
- [ ] 是否会与现有样式冲突？
- [ ] 是否考虑了响应式设计？
- [ ] 是否考虑了主题切换？
