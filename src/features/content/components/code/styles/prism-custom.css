/**
 * 代码高亮自定义样式
 */

/* 调整行号样式 */
.line-numbers .line-numbers-rows {
  border-right: 1px solid rgba(255, 255, 255, 0.15);
  padding-right: 10px;
  opacity: 0.7;
}

/* 调整代码块边距和样式 */
pre[class*="language-"] {
  margin: 0;
  padding: 1.5rem;
  font-size: 0.9rem;
  line-height: 1.5;
  border-radius: 0.5rem;
  overflow: auto;
  max-height: 600px;
  font-family: "JetBrains Mono", "Fira Code", "Cascadia Code", "Roboto Mono", monospace;
  position: relative;
  z-index: 10;
}

/* 深色模式强制样式 */
.dark pre[class*="language-"],
.dark code[class*="language-"],
pre[class*="language-"],
code[class*="language-"] {
  text-shadow: none;
  color: #e3e3e3;
  background-color: transparent;
}

/* 浅色模式下的代码颜色 */
:root:not(.dark) .token.comment,
:root:not(.dark) .token.prolog,
:root:not(.dark) .token.doctype,
:root:not(.dark) .token.cdata {
  color: #007800;
}

:root:not(.dark) .token.punctuation {
  color: #303030;
}

:root:not(.dark) .token.property,
:root:not(.dark) .token.tag,
:root:not(.dark) .token.boolean,
:root:not(.dark) .token.number,
:root:not(.dark) .token.constant,
:root:not(.dark) .token.symbol {
  color: #905;
}

:root:not(.dark) .token.selector,
:root:not(.dark) .token.attr-name,
:root:not(.dark) .token.string,
:root:not(.dark) .token.char,
:root:not(.dark) .token.builtin {
  color: #690;
}

:root:not(.dark) .token.operator,
:root:not(.dark) .token.entity,
:root:not(.dark) .token.url,
:root:not(.dark) .language-css .token.string,
:root:not(.dark) .style .token.string {
  color: #9a6e3a;
  background: transparent;
}

:root:not(.dark) .token.atrule,
:root:not(.dark) .token.attr-value,
:root:not(.dark) .token.keyword {
  color: #07a;
}

:root:not(.dark) .token.function {
  color: #dd4a68;
}

:root:not(.dark) .token.regex,
:root:not(.dark) .token.important,
:root:not(.dark) .token.variable {
  color: #e90;
}

/* 修复大括号内文字颜色 */
:root:not(.dark) .token.punctuation,
:root:not(.dark) code[class*="language-"] {
  color: #24292e;
}

:root:not(.dark) .token.template-string .token.string,
:root:not(.dark) .token.template-punctuation {
  color: #24292e;
}

:root:not(.dark) .token.interpolation,
:root:not(.dark) .token.interpolation-punctuation {
  color: #5c6166;
}

/* 确保模板字符串中的变量显示清晰 */
:root:not(.dark) .token.template-string .token.interpolation {
  color: #953800;
}

:root:not(.dark) .token.template-string .token.interpolation-punctuation {
  color: #953800;
}

/* 深色模式下的代码颜色 */
.dark .token.comment,
.dark .token.prolog,
.dark .token.doctype,
.dark .token.cdata {
  color: #6a9955;
}

.dark .token.punctuation {
  color: #d4d4d4;
}

.dark .token.property,
.dark .token.tag,
.dark .token.boolean,
.dark .token.number,
.dark .token.constant,
.dark .token.symbol {
  color: #b5cea8;
}

.dark .token.selector,
.dark .token.attr-name,
.dark .token.string,
.dark .token.char,
.dark .token.builtin {
  color: #ce9178;
}

.dark .token.operator,
.dark .token.entity,
.dark .token.url,
.dark .language-css .token.string,
.dark .style .token.string {
  color: #d4d4d4;
  background: transparent;
}

.dark .token.atrule,
.dark .token.attr-value,
.dark .token.keyword {
  color: #569cd6;
}

.dark .token.function {
  color: #dcdcaa;
}

.dark .token.regex,
.dark .token.important,
.dark .token.variable {
  color: #d16969;
}

.token.important,
.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}

/* 代码块滚动条样式 */
pre::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

pre::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.1);
  border-radius: 4px;
}

pre::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

pre::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* 禁用Firefox和Edge的默认滚动条样式 */
pre {
  scrollbar-width: thin;
  scrollbar-color: rgba(255, 255, 255, 0.2) rgba(0, 0, 0, 0.1);
}
