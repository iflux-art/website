{
  "analysis_metadata": {
    "analysis_date": "2025-01-18",
    "total_files_analyzed": 150,
    "cross_feature_dependencies_found": 8,
    "files_to_move": 3,
    "files_to_update": 23
  },
  "shared_code_identification": {
    "types": {
      "BreadcrumbItem": {
        "current_location": "src/features/content/types/index.ts",
        "target_location": "src/types/content-types.ts",
        "usage_count": 2,
        "used_by": [
          "src/features/blog/lib/index.ts",
          "src/features/docs/lib/index.ts"
        ],
        "reason": "Used by multiple feature modules (blog, docs)"
      },
      "Heading": {
        "current_location": "src/features/docs/types/index.ts",
        "target_location": "src/types/content-types.ts",
        "usage_count": 1,
        "used_by": ["src/features/content/hooks/use-heading-observer.ts"],
        "reason": "Used by content feature which is shared across docs functionality"
      }
    },
    "utilities": {
      "website-parser": {
        "current_location": "src/features/website-parser/",
        "target_location": "src/lib/website-parser.ts",
        "usage_count": 2,
        "used_by": [
          "src/features/links/components/links/links-form.tsx",
          "src/lib/index.ts"
        ],
        "reason": "Used by links feature and already exported from lib for compatibility",
        "decision": "MOVE - Already being exported from lib, indicates shared usage"
      }
    },
    "hooks": {
      "use-content-data": {
        "current_location": "src/features/content/hooks/use-content-data.ts",
        "target_location": "src/hooks/use-content-data.ts",
        "usage_count": 3,
        "used_by": [
          "src/features/blog/hooks/index.ts",
          "src/features/docs/hooks/index.ts",
          "src/hooks/index.ts"
        ],
        "reason": "Already moved and exported from shared hooks directory",
        "decision": "ALREADY_MOVED - No action needed"
      }
    }
  },
  "feature_specific_code": {
    "auth": {
      "current_structure": ["components/", "index.ts"],
      "missing_directories": ["types/", "lib/", "hooks/"],
      "needs_index_update": false
    },
    "admin": {
      "current_structure": ["components/", "hooks/"],
      "missing_directories": ["types/", "lib/"],
      "needs_index_creation": true
    },
    "comment": {
      "current_structure": ["components/", "index.ts"],
      "missing_directories": ["types/", "lib/", "hooks/"],
      "needs_index_update": false
    },
    "home": {
      "current_structure": ["components/", "hooks/"],
      "missing_directories": ["types/", "lib/"],
      "needs_index_creation": true
    },
    "layout": {
      "current_structure": [
        "navbar/",
        "app-grid.tsx",
        "footer.tsx",
        "sidebar.tsx"
      ],
      "missing_directories": ["types/", "lib/"],
      "needs_reorganization": true
    }
  },
  "path_update_plan": {
    "type_imports": [
      {
        "file": "src/features/blog/lib/index.ts",
        "old_import": "import type { BreadcrumbItem } from \"@/features/content/types\";",
        "new_import": "import type { BreadcrumbItem } from \"@/types/content-types\";",
        "line_number": 10
      },
      {
        "file": "src/features/docs/lib/index.ts",
        "old_import": "import type { BreadcrumbItem } from \"@/features/content/types\";",
        "new_import": "import type { BreadcrumbItem } from \"@/types/content-types\";",
        "line_number": 10
      },
      {
        "file": "src/features/content/hooks/use-heading-observer.ts",
        "old_import": "import type { Heading } from \"@/features/docs/types\";",
        "new_import": "import type { Heading } from \"@/types/content-types\";",
        "line_number": 2
      }
    ],
    "utility_imports": [
      {
        "file": "src/features/links/components/links/links-form.tsx",
        "old_import": "import { isValidUrl, useWebsiteParser } from \"@/features/website-parser\";",
        "new_import": "import { isValidUrl, useWebsiteParser } from \"@/lib/website-parser\";",
        "line_number": 34
      },
      {
        "file": "src/lib/index.ts",
        "old_export": "export * from \"@/features/website-parser\";",
        "new_export": "export * from \"@/lib/website-parser\";",
        "line_number": 13
      }
    ],
    "index_file_updates": [
      {
        "file": "src/types/index.ts",
        "addition": "export * from \"./content-types\";",
        "position": "end"
      }
    ]
  },
  "validation_checklist": {
    "compilation_checks": [
      "TypeScript compilation with no errors",
      "ESLint validation passes",
      "Build process completes successfully"
    ],
    "runtime_checks": [
      "All pages render correctly",
      "All feature functionality works",
      "Import paths resolve correctly",
      "No broken references"
    ],
    "specific_validations": [
      "Blog breadcrumbs display correctly",
      "Docs breadcrumbs display correctly",
      "Links form website parsing works",
      "Content heading observer functions",
      "All UI components render properly"
    ]
  },
  "execution_phases": {
    "phase_1": {
      "name": "Shared Types Migration",
      "tasks": [
        "Create src/types/content-types.ts",
        "Move BreadcrumbItem and Heading types",
        "Update src/types/index.ts exports",
        "Update import paths in affected files"
      ],
      "validation": "TypeScript compilation check"
    },
    "phase_2": {
      "name": "Shared Utilities Migration",
      "tasks": [
        "Move website-parser to src/lib/website-parser.ts",
        "Update src/lib/index.ts exports",
        "Update import paths in affected files"
      ],
      "validation": "Build and functionality test"
    },
    "phase_3": {
      "name": "Feature Module Organization",
      "tasks": [
        "Create missing subdirectories in feature modules",
        "Move feature-specific code to appropriate subdirectories",
        "Create/update feature index.ts files",
        "Update internal import paths"
      ],
      "validation": "Full application test"
    },
    "phase_4": {
      "name": "Final Validation and Cleanup",
      "tasks": [
        "Remove unused imports",
        "Clean up redundant code",
        "Update documentation",
        "Final comprehensive testing"
      ],
      "validation": "Complete regression test"
    }
  }
}
